<?xml version="1.0" encoding="utf-8"?>
<MedicationRequest xmlns="http://hl7.org/fhir">
    <id value="medicationrequest-warfarin-nsaid-aldosteroneantagonist-prefetch"/>
    <status value="active"/>
    <intent value="order"/>
    <category>
        <coding>
            <code value="outpatient"/>
        </coding>
    </category>
    <medicationCodeableConcept>
        <coding>
            <system value="http://www.nlm.nih.gov/research/umls/rxnorm"/>
            <code value="198223"/>
            <display value="Spironolactone 50 MG Oral Tablet"/>
        </coding>
    </medicationCodeableConcept>
    <subject>
        <reference value="Patient/warfarin-nsaid-over65-prefetch"/>
    </subject>
    <context>
        <reference value="Encounter/warfarin-nsaid-prefetch"/>
    </context>
    <authoredOn>
        <extension url="http://hl7.org/fhir/StructureDefinition/cqif-cqlExpression">
            <valueString value="Today() - 10 days"/>
        </extension>
    </authoredOn>
    <dosageInstruction>
        <timing>
            <repeat>
                <frequency value="1"/>
                <period value="1.0"/>
                <periodUnit value="d"/>
            </repeat>
        </timing>
        <asNeededBoolean value="false"/>
        <doseQuantity>
            <value value="1.0"/>
            <unit value="tablet"/>
        </doseQuantity>
    </dosageInstruction>
    <dispenseRequest>
        <validityPeriod>
            <extension url="http://hl7.org/fhir/StructureDefinition/cqif-cqlExpression">
                <valueString value="FHIR.Period { start: FHIR.dateTime { value: Today() - 10 days }, end: FHIR.dateTime { value: Today() } }"/>
            </extension>
        </validityPeriod>
        <numberOfRepeatsAllowed value="1"/>
        <expectedSupplyDuration>
            <value value="90.0"/>
            <unit value="d"/>
        </expectedSupplyDuration>
    </dispenseRequest>
</MedicationRequest>